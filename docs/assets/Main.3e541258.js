import{n as p,d as b,r as l,s as A,c as D,o as h,a as L,b as N}from"./index.55cda2cb.js";import{a as _,V as w}from"./common.13c32308.js";const I={props:{itemData:{type:Object,default(){return{}}}},methods:{deleteItem(r){this.$emit("deleteItem",r)}}};var F=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"min-height":"44px",display:"flex","align-items":"center","border-bottom":"1px solid #ccc",padding:"0 10px"}},[t("div",{staticStyle:{flex:"1"}},[e._v(" "+e._s(e.itemData.index)+" - "+e._s(e.itemData.id)+" - "+e._s(e.itemData.text)+" ")]),t("button",{staticStyle:{height:"20px"},on:{click:function(a){return e.deleteItem(e.itemData.id)}}},[e._v("\u5220\u9664")])])},R=[],S=p(I,F,R,!1,null,null,null,null);const B=S.exports,C=b({__name:"Main",setup(r){const e=l(1e3),t=l(10),a=l(!1),u=l(!1),i=l(null),n=A([]),f=D(()=>{var s;return(s=i.value)==null?void 0:s.reactiveData});h(async()=>{n.value=await _(1)}),L(()=>{var s;(s=i.value)==null||s.forceUpdate()});function o(s){return new Promise(d=>{u.value||(u.value=!0,setTimeout(async()=>{const v=await _(s,n.value.length);n.value=n.value.concat(v),u.value=!1,N(()=>{var m;(m=i.value)==null||m.scrollToBottom(),d(null)})},0))})}async function x(){return a.value=!1,o(e.value)}async function c(){a.value&&n.value.length<700002&&(await o(t.value),c())}async function g(){a.value=!a.value,c()}function y(s){const d=n.value.findIndex(v=>v.id===s);n.value.splice(d,1)}return{__sfc:!0,manualNumber:e,autoNumber:t,autoFlag:a,loading:u,virtualListRef:i,list:n,reactiveData:f,generateList:o,manualAddList:x,autoGenerate:c,autoAddList:g,deleteItem:y,VirtualList:w,Item:B}}});var E=function(){var u,i;var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"main"},[t("div",[e._v("\u9AD8\u6027\u80FD\u3001\u52A8\u6001\u9AD8\u5EA6\u3001\u589E\u5220")]),t("div",{staticClass:"button-group"},[t("button",{on:{click:a.manualAddList}},[e._v("Manual Add List")]),t("span",[e._v("(")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.manualNumber,expression:"manualNumber"}],attrs:{type:"text"},domProps:{value:a.manualNumber},on:{input:function(n){n.target.composing||(a.manualNumber=n.target.value)}}}),t("span",[e._v("per)")]),t("span",[e._v("\xA0")]),t("span",[e._v("\xA0")]),t("span",[e._v("\xA0")]),t("button",{on:{click:a.autoAddList}},[e._v(" "+e._s(a.autoFlag?"Stop Add List":"Auto Add List")+" ")]),t("span",[e._v("(")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.autoNumber,expression:"autoNumber"}],attrs:{type:"text"},domProps:{value:a.autoNumber},on:{input:function(n){n.target.composing||(a.autoNumber=n.target.value)}}}),t("span",[e._v("per)")]),t("span",[e._v("\xA0")]),t("span",[e._v("\xA0")]),t("span",[e._v("\xA0")]),t("span",{directives:[{name:"show",rawName:"v-show",value:a.loading,expression:"loading"}]},[e._v("\u6570\u636E\u751F\u6210\u4E2D\uFF0C\u8BF7\u7A0D\u7B49")])]),t("div",{staticStyle:{padding:"10px 0"}},[t("span",[e._v("Total: "+e._s(a.list.length)+" ")]),t("span",[e._v("RenderBegin: "+e._s((u=a.reactiveData)==null?void 0:u.renderBegin)+" ")]),t("span",[e._v("RenderEnd: "+e._s((i=a.reactiveData)==null?void 0:i.renderEnd)+" ")])]),t("div",{staticClass:"demo-dynamic"},[t(a.VirtualList,{ref:"virtualListRef",attrs:{buffer:5,list:a.list,itemKey:"id",minSize:44},scopedSlots:e._u([{key:"default",fn:function({itemData:n}){return[t(a.Item,{attrs:{itemData:n},on:{deleteItem:a.deleteItem}})]}}])})],1)])},M=[],k=p(C,E,M,!1,null,null,null,null);const T=k.exports;export{T as default};
