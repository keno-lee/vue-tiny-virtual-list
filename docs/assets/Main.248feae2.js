import{n as p,d as y,r as i,s as b,o as A,a as h,b as L}from"./index.92be6de8.js";import{a as _,V as N}from"./common.6923482e.js";const w={props:{itemData:{type:Object,default(){return{}}}},methods:{deleteItem(l){this.$emit("deleteItem",l)}}};var D=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"min-height":"44px",display:"flex","align-items":"center","border-bottom":"1px solid #ccc",padding:"0 10px"}},[t("div",{staticStyle:{flex:"1"}},[e._v(" "+e._s(e.itemData.index)+" - "+e._s(e.itemData.id)+" - "+e._s(e.itemData.text)+" ")]),t("button",{staticStyle:{height:"20px"},on:{click:function(a){return e.deleteItem(e.itemData.id)}}},[e._v("\u5220\u9664")])])},I=[],F=p(w,D,I,!1,null,null,null,null);const S=F.exports,C=y({__name:"Main",setup(l){const e=i(1e3),t=i(1e4),a=i(!1),n=i(!1),o=i(null),s=b([]);A(async()=>{s.value=await _(1)}),h(()=>{var u;(u=o.value)==null||u.forceUpdate()});function r(u){return new Promise(d=>{n.value||(n.value=!0,setTimeout(async()=>{const m=await _(u,s.value.length);s.value=s.value.concat(m),n.value=!1,console.log(s.value),L(()=>{var v;(v=o.value)==null||v.scrollToBottom(),d(null)})},0))})}async function f(){return a.value=!1,r(e.value)}async function c(){a.value&&s.value.length<700002&&(await r(t.value),c())}async function x(){a.value=!a.value,c()}function g(u){const d=s.value.findIndex(m=>m.id===u);s.value.splice(d,1)}return{__sfc:!0,manualNumber:e,autoNumber:t,autoFlag:a,loading:n,virtualListRef:o,list:s,generateList:r,manualAddList:f,autoGenerate:c,autoAddList:x,deleteItem:g,VirtualList:N,Item:S}}});var M=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"main"},[t("div",[e._v("\u9AD8\u6027\u80FD\u3001\u52A8\u6001\u9AD8\u5EA6\u3001\u589E\u5220")]),t("div",{staticClass:"button-group"},[t("button",{on:{click:a.manualAddList}},[e._v("Manual Add List")]),t("span",[e._v("(")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.manualNumber,expression:"manualNumber"}],attrs:{type:"text"},domProps:{value:a.manualNumber},on:{input:function(n){n.target.composing||(a.manualNumber=n.target.value)}}}),t("span",[e._v("per)")]),t("span",[e._v("\xA0")]),t("span",[e._v("\xA0")]),t("span",[e._v("\xA0")]),t("button",{on:{click:a.autoAddList}},[e._v(" "+e._s(a.autoFlag?"Stop Add List":"Auto Add List")+" ")]),t("span",[e._v("(")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.autoNumber,expression:"autoNumber"}],attrs:{type:"text"},domProps:{value:a.autoNumber},on:{input:function(n){n.target.composing||(a.autoNumber=n.target.value)}}}),t("span",[e._v("per)")]),t("span",[e._v("\xA0")]),t("span",[e._v("\xA0")]),t("span",[e._v("\xA0")]),t("span",{directives:[{name:"show",rawName:"v-show",value:a.loading,expression:"loading"}]},[e._v("\u6570\u636E\u751F\u6210\u4E2D\uFF0C\u8BF7\u7A0D\u7B49")])]),t("div",{staticStyle:{padding:"10px 0"}},[t("span",[e._v("Total: "+e._s(a.list.length)+" ")])]),t("div",{staticClass:"demo-dynamic"},[t(a.VirtualList,{ref:"virtualListRef",attrs:{buffer:5,list:a.list,itemKey:"id",minSize:44},scopedSlots:e._u([{key:"default",fn:function({itemData:n}){return[t(a.Item,{attrs:{itemData:n},on:{deleteItem:a.deleteItem}})]}}])})],1)])},k=[],R=p(C,M,k,!1,null,null,null,null);const E=R.exports;export{E as default};
