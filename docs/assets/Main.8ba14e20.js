import{V as r,a as n}from"./common.98ce7bfe.js";import{n as s}from"./index.1100ee0e.js";const u={props:{itemData:{type:Object,default(){return{}}}},methods:{deleteItem(i){this.$emit("deleteItem",i)}}};var l=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"min-height":"44px",display:"flex","align-items":"center","border-bottom":"1px solid #ccc",padding:"0 10px"}},[e("div",{staticStyle:{flex:"1"}},[t._v(" "+t._s(t.itemData.index)+" - "+t._s(t.itemData.id)+" - "+t._s(t.itemData.text)+" ")]),e("button",{staticStyle:{height:"20px"},on:{click:function(a){return t.deleteItem(t.itemData.id)}}},[t._v("\u5220\u9664")])])},o=[],d=s(u,l,o,!1,null,null,null,null);const m=d.exports,c={name:"DemoDynamic",components:{VirtualList:r,Item:m},data(){return{list:[],manualNumber:1e3,autoNumber:10,autoFlag:!1,loading:!1,reactiveData:{renderBegin:0,renderEnd:0}}},async created(){this.list=await n(1)},mounted(){this.reactiveData=this.$refs.virtualListRef.reactiveData},methods:{generateList(i){return new Promise(t=>{this.loading||(this.loading=!0,setTimeout(async()=>{const e=await n(i,this.list.length);this.list=this.list.concat(e),this.loading=!1,this.$nextTick(()=>{this.$refs.virtualListRef.scrollToBottom(),t(null)})},0))})},async manualAddList(){return this.autoFlag=!1,this.generateList(this.manualNumber)},async autoGenerate(){this.autoFlag&&(await this.generateList(this.autoNumber),this.autoGenerate())},async autoAddList(){this.autoFlag=!this.autoFlag,this.autoGenerate()},deleteItem(i){const t=this.list.findIndex(e=>e.id===i);this.list.splice(t,1)}}};var _=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",[t._v("\u9AD8\u6027\u80FD\u3001\u52A8\u6001\u9AD8\u5EA6\u3001\u589E\u5220")]),e("div",{staticClass:"button-group"},[e("button",{on:{click:t.manualAddList}},[t._v("Manual Add List")]),e("span",[t._v("(")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualNumber,expression:"manualNumber"}],attrs:{type:"text"},domProps:{value:t.manualNumber},on:{input:function(a){a.target.composing||(t.manualNumber=a.target.value)}}}),e("span",[t._v("per)")]),e("span",[t._v("\xA0")]),e("span",[t._v("\xA0")]),e("span",[t._v("\xA0")]),e("button",{on:{click:t.autoAddList}},[t._v(" "+t._s(t.autoFlag?"Stop Add List":"Auto Add List")+" ")]),e("span",[t._v("(")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.autoNumber,expression:"autoNumber"}],attrs:{type:"text"},domProps:{value:t.autoNumber},on:{input:function(a){a.target.composing||(t.autoNumber=a.target.value)}}}),e("span",[t._v("per)")]),e("span",[t._v("\xA0")]),e("span",[t._v("\xA0")]),e("span",[t._v("\xA0")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[t._v("\u6570\u636E\u751F\u6210\u4E2D\uFF0C\u8BF7\u7A0D\u7B49")])]),e("div",{staticStyle:{padding:"10px 0"}},[e("span",[t._v("Total: "+t._s(t.list.length)+" ")]),e("span",[t._v("RenderBegin: "+t._s(t.reactiveData.renderBegin)+" ")]),e("span",[t._v("RenderEnd: "+t._s(t.reactiveData.renderEnd)+" ")])]),e("div",{staticClass:"demo-dynamic"},[e("VirtualList",{ref:"virtualListRef",attrs:{buffer:5,list:t.list,itemKey:"id",minSize:44},scopedSlots:t._u([{key:"default",fn:function({itemData:a}){return[e("Item",{attrs:{itemData:a},on:{deleteItem:t.deleteItem}})]}}])})],1)])},v=[],p=s(c,_,v,!1,null,null,null,null);const g=p.exports;export{g as default};
