import{n as f,d as b,r as l,c as A,o as D,a as L,b as N}from"./index.75411913.js";import{a as p,V as h}from"./common.79dda88a.js";const w={props:{itemData:{type:Object,default(){return{}}},index:{type:Number,default:0}},methods:{deleteItem(r){this.$emit("deleteItem",r)}}};var I=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"min-height":"44px",display:"flex","align-items":"center","border-bottom":"1px solid #ccc",padding:"0 10px"}},[t("div",{staticStyle:{flex:"1"}},[e._v(" "+e._s(e.index)+" - "+e._s(e.itemData.id)+" - "+e._s(e.itemData.text)+" ")]),t("button",{staticStyle:{height:"20px"},on:{click:function(a){return e.deleteItem(e.itemData.id)}}},[e._v("\u5220\u9664")])])},F=[],S=f(w,I,F,!1,null,null,null,null);const B=S.exports,C=b({__name:"Main",setup(r){const e=l(1e3),t=l(10),a=l(!1),u=l(!1),i=l(null),n=l([]),o=A(()=>{var s;return(s=i.value)==null?void 0:s.reactiveData});D(async()=>{n.value=await p(1)}),L(()=>{var s;(s=i.value)==null||s.forceUpdate()});function c(s){return new Promise(v=>{u.value||(u.value=!0,setTimeout(async()=>{const m=await p(s,n.value.length);n.value=n.value.concat(m),u.value=!1,N(()=>{var _;(_=i.value)==null||_.scrollToBottom(),v(null)})},0))})}async function x(){return a.value=!1,c(e.value)}async function d(){a.value&&n.value.length<700002&&(await c(t.value),d())}async function g(){a.value=!a.value,d()}function y(s){const v=n.value.findIndex(m=>m.id===s);n.value.splice(v,1)}return{__sfc:!0,manualNumber:e,autoNumber:t,autoFlag:a,loading:u,virtualListRef:i,list:n,reactiveData:o,generateList:c,manualAddList:x,autoGenerate:d,autoAddList:g,deleteItem:y,VirtualList:h,Item:B}}});var E=function(){var u,i;var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"main"},[t("div",[e._v("\u9AD8\u6027\u80FD\u3001\u52A8\u6001\u9AD8\u5EA6\u3001\u589E\u5220")]),t("div",{staticClass:"button-group"},[t("button",{on:{click:a.manualAddList}},[e._v("Manual Add List")]),t("span",[e._v("(")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.manualNumber,expression:"manualNumber"}],attrs:{type:"text"},domProps:{value:a.manualNumber},on:{input:function(n){n.target.composing||(a.manualNumber=n.target.value)}}}),t("span",[e._v("per)")]),t("span",[e._v("\xA0")]),t("span",[e._v("\xA0")]),t("span",[e._v("\xA0")]),t("button",{on:{click:a.autoAddList}},[e._v(" "+e._s(a.autoFlag?"Stop Add List":"Auto Add List")+" ")]),t("span",[e._v("(")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.autoNumber,expression:"autoNumber"}],attrs:{type:"text"},domProps:{value:a.autoNumber},on:{input:function(n){n.target.composing||(a.autoNumber=n.target.value)}}}),t("span",[e._v("per)")]),t("span",[e._v("\xA0")]),t("span",[e._v("\xA0")]),t("span",[e._v("\xA0")]),t("span",{directives:[{name:"show",rawName:"v-show",value:a.loading,expression:"loading"}]},[e._v("\u6570\u636E\u751F\u6210\u4E2D\uFF0C\u8BF7\u7A0D\u7B49")])]),t("div",{staticStyle:{padding:"10px 0"}},[t("span",[e._v("Total: "+e._s(a.list.length)+" ")]),t("span",[e._v("RenderBegin: "+e._s((u=a.reactiveData)==null?void 0:u.renderBegin)+" ")]),t("span",[e._v("RenderEnd: "+e._s((i=a.reactiveData)==null?void 0:i.renderEnd)+" ")])]),t("div",{staticClass:"demo-dynamic"},[t(a.VirtualList,{ref:"virtualListRef",attrs:{buffer:5,list:a.list,itemKey:"id",minSize:44},scopedSlots:e._u([{key:"default",fn:function({itemData:n,index:o}){return[t(a.Item,{attrs:{itemData:n,index:o},on:{deleteItem:a.deleteItem}})]}}])})],1)])},M=[],R=f(C,E,M,!1,null,null,null,null);const P=R.exports;export{P as default};
