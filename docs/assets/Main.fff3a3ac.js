import{V as u,a as n}from"./common.82ac9018.js";import{n as a}from"./index.21f7069b.js";const l={props:{itemData:{type:Object,default(){return{}}}},methods:{deleteItem(i){this.$emit("deleteItem",i)}}};var r=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"min-height":"44px",display:"flex","align-items":"center","border-bottom":"1px solid #ccc",padding:"0 10px"}},[e("div",{staticStyle:{flex:"1"}},[t._v(" "+t._s(t.itemData.index)+" - "+t._s(t.itemData.id)+" - "+t._s(t.itemData.text)+" ")]),e("button",{staticStyle:{height:"20px"},on:{click:function(s){return t.deleteItem(t.itemData.id)}}},[t._v("\u5220\u9664")])])},o=[],m=a(l,r,o,!1,null,null,null,null);const c=m.exports,d={name:"Dynamic",components:{VirtualList:u,Item:c},data(){return{list:[],number:1e4,loading:!1}},async created(){this.list=await n(1)},methods:{async addItem2Bottom(){this.loading||(this.loading=!0,setTimeout(async()=>{const i=await n(this.number);this.list=this.list.concat(i),this.loading=!1,this.$nextTick(()=>{this.$refs.virtualListRef.scrollToBottom()})},0))},deleteItem(i){const t=this.list.findIndex(e=>e.id===i);this.list.splice(t,1)}}};var _=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",[t._v("\u9AD8\u6027\u80FD\u3001\u52A8\u6001\u9AD8\u5EA6\u3001\u589E\u5220")]),e("div",{staticClass:"button-group"},[e("button",{on:{click:t.addItem2Bottom}},[t._v("\u5411\u5E95\u90E8\u6DFB\u52A0")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],attrs:{type:"text"},domProps:{value:t.number},on:{input:function(s){s.target.composing||(t.number=s.target.value)}}}),e("span"),e("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[t._v("\u6570\u636E\u751F\u6210\u4E2D\uFF0C\u8BF7\u7A0D\u7B49")])]),e("span",[t._v("\u5F53\u524D\u52A0\u8F7D\u884C\u6570 "+t._s(t.list.length)+" ")]),e("div",{staticClass:"demo"},[e("VirtualList",{ref:"virtualListRef",attrs:{buffer:5,list:t.list,itemKey:"id",minSize:44},on:{deleteItem:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function({itemData:s}){return[e("Item",{attrs:{itemData:s}})]}}])})],1)])},f=[],v=a(d,_,f,!1,null,null,null,null);const x=v.exports;export{x as default};
