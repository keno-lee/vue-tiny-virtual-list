import{u as f}from"./chunks/VirtualList.c0QhsyoC.js";import{u as _}from"./chunks/ObserverItem.Ik21bs68.js";import{d as u,o as l,c as h,F,E as o,t as y,e as q,g as N,k as s,m as E,O as c,b as x,p as I,q as L,_ as R,D as $,I as B,w as z,a as D,R as S}from"./chunks/framework.UVXzjgAp.js";const P=["colspan","rowspan"],O=u({__name:"Item",props:{row:{default:{}},columns:{default:[]},resizeObserver:{default:null}},setup(t){const p=t,{itemRefEl:e}=_({resizeObserver:p.resizeObserver});return(i,C)=>(l(),h("tr",{ref_key:"itemRefEl",ref:e},[(l(!0),h(F,null,o(i.columns,a=>(l(),h(F,null,[i.row.id===0&&a.key==="name"||i.row.id===1&&a.key==="id"||i.row.id===1&&a.key==="name"?q("",!0):(l(),h("td",{key:a.key,style:{"border-right":"1px solid #000","border-bottom":"1px solid #000",padding:"6px"},colspan:i.row.id===0&&a.key==="id"?2:void 0,rowspan:i.row.id===0&&a.key==="id"?2:void 0},y(`${i.row.id} - ${a.key} - ${i.row[a.key]}`),9,P))],64))),256))],512))}}),r=t=>(I("data-v-09cb580c"),t=t(),L(),t),T={class:"main"},J=r(()=>s("div",null,"高阶用法，使用前需要掌握虚拟列表的基本原理",-1)),M=r(()=>s("div",null,"通过 useVirtualList() 函数，",-1)),V=r(()=>s("div",null," 传入3个基本的参数，返回dom的结构，自定义布局页面，下面给出合并单元格的`<table></table>`布局示例: ",-1)),Y=r(()=>s("div",null," 这里只是简单的合并单元格表格示例，有需要的可以作为参考，并自己做好性能处理。后续计划中会在一个高性能的独立表格组件提供出来 ",-1)),H={style:{padding:"10px 0"}},W=r(()=>s("span",null,"   ",-1)),K=r(()=>s("span",null,"   ",-1)),j={class:"demo-advanced"},G=["width"],Q=u({__name:"Main",setup(t){const p=[{key:"id",title:"ID",width:100},{key:"name",title:"Name",width:100},{key:"age",title:"Age",width:100},{key:"address",title:"Address",width:200},{key:"description",title:"Description",width:200},{key:"description1",title:"Description1",width:200},{key:"description2",title:"Description2",width:200},{key:"description3",title:"Description3",width:200},{key:"description4",title:"Description4",width:200}],e=[];for(let n=0;n<100;n+=1)e.push({id:n,name:"John Brown",age:32,address:"New York No. 1 Lake Park",description:"My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.",description1:"My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.",description2:"My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.",description3:"My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park.",description4:"My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park."});function i(n,g){return n===0||n===1?{begin:0,end:g}:{begin:n,end:g}}const C=p.reduce((n,g)=>n+g.width,0),a={scroll:()=>{},toTop:()=>{},toBottom:()=>{},itemResize:()=>{}},{resizeObserver:A,reactiveData:d,renderList:m,clientRefEl:v,stickyHeaderRefEl:w}=f({list:e,minSize:100,itemKey:"id",renderControl:i},a);console.log("reactiveData",d);const b=N(()=>`will-change: height; min-height: ${d.listTotalSize}px;`);return(n,g)=>(l(),h("div",T,[J,M,V,Y,s("div",H,[s("span",null,"Total: "+y(e.length),1),W,s("span",null,"RenderBegin: "+y(E(d).renderBegin),1),K,s("span",null,"RenderEnd: "+y(E(d).renderEnd),1)]),s("div",j,[s("div",{ref_key:"clientRefEl",ref:v,"data-id":"client",style:{width:"100%",height:"100%",overflow:"overlay"}},[s("div",{style:c(`float: left; ${b.value}`)},null,4),s("table",{cellspacing:"0",cellpadding:"0",style:c(`width: ${E(C)}px`)},[s("thead",{ref_key:"stickyHeaderRefEl",ref:w,"data-id":"stickyHeader",class:"grid-header",style:{position:"sticky",top:"0","background-color":"#fff"}},[s("tr",null,[(l(),h(F,null,o(p,k=>s("th",{key:k.key,style:{"border-right":"1px solid #000","border-bottom":"1px solid #000","background-color":"#ccc",height:"32px"}},y(k.title),1)),64))])],512),s("colgroup",null,[(l(),h(F,null,o(p,k=>s("col",{key:k.key,width:k.width},null,8,G)),64))]),s("tbody",null,[s("tr",{style:c(`height: ${E(d).virtualSize}px;`)},null,4),(l(!0),h(F,null,o(E(m),k=>(l(),x(O,{resizeObserver:E(A),row:k,columns:p,"data-id":`${k.id}`},null,8,["resizeObserver","row","data-id"]))),256))])],4)],512)])]))}}),U=R(Q,[["__scopeId","data-v-09cb580c"]]),X=s("h1",{id:"高阶用法",tabindex:"-1"},[D("高阶用法 "),s("a",{class:"header-anchor",href:"#高阶用法","aria-label":'Permalink to "高阶用法"'},"​")],-1),Z=s("h2",{id:"基础示例",tabindex:"-1"},[D("基础示例 "),s("a",{class:"header-anchor",href:"#基础示例","aria-label":'Permalink to "基础示例"'},"​")],-1),ss=S("",1),hs=JSON.parse('{"title":"高阶用法","description":"","frontmatter":{},"headers":[],"relativePath":"examples/advanced/index.md","filePath":"examples/advanced/index.md"}'),is={name:"examples/advanced/index.md"},ks=Object.assign(is,{setup(t){return(p,e)=>{const i=$("ClientOnly");return l(),h("div",null,[X,Z,B(i,null,{default:z(()=>[B(U)]),_:1}),ss])}}});export{hs as __pageData,ks as default};
